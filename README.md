# Домашнее задание к занятию "`Базы данных, их типы`" - `Попов Игорь`

---

### Задание 1 СУБД

Кейс

Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?

1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков. СУБД должна гарантировать целостность и чёткую структуру данных.

_Для данного типа задач подойдет реляционная СУБД (SQL) (например Postgres, MS SQL). Требуется гарантия целостности данных, структура и поддержка хранимых процедур. Реляционные БД хорошо подходят для аналитики, отчетов и прогнорзирования._

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы?

_Использовать втсроенные криптографические функции СУБД (pgcrypto)_

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

_В данном случае для лендингов требуется использовать документоориентированную NoSQL СУБД (MongoDB, Firebase). Хорошая масштабируемость под высокую нагрузку.
Для CRM реляционная СУБД. Структурированные данные, аналитика._

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

_Реляционная СУБД (например, PostgreSQL)._

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать со связями.

_Графовая СУБД (Neo4j / JanusGraph). Имеет ряд приемуществ: построение маршрутов, быстрый поиск путей._


### Задание 2 

Транзакции 2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

1) Инициация операции. 
    Вводим номер телефона и сумму. Система создаёт ID транзакции (transaction_id), проверяет номер, доступность услуги пополнения и техническую возможность принять платёж (статус счёта).
2) Списание денежных стредств. 
    Оператор формирует запрос на списание. Проверяет хватает ли средств, если нет то транзакция откатывается.
3) Поступление денег
4) Зачисление средств на баланс телефона и обновление данных в БД оператора.
5) Фиксация успешного статуса и отправка подтверждения.
6) Уведомление пользователя и завршение операции.


### Задание 3. 

SQL vs NoSQL
3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

1) Реляционные СУБД обеспечивают атомарность, консистентность, изоляцию и долговечность транзакций. Это очень важно для финансовых, банковских, учетных систем.
2) SQL — это мощный, декларативный и универсальный стандарт (ANSI/ISO).
3) Данные структурируются на этапе записи, что предотвращает попадание некорректных или неполных данных, обеспечивает валидацию типов
4) SQL позволяет эффективно связывать данные из множества таблиц через JOIN, выполнять сложные агрегации, оконные функции, подзапросы
5) Имеют большой набор инструментов для администрирования, мониторинга, резервного копирования, репликации.


### Задание 4. 
Кластеры
Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.

На основе какого критерия будете выбирать тип СУБД и какая модель распределённых вычислений здесь справится лучше всего и почему?

Критерий выбора типа СУБД:
1) Тип нагрузки: не классическая СУБД, необходима система для больших данных
2) Ноебходима база, которая масштабируется на 1000 серверов.
3) Отказоустойчивость, автовосстановление, репликация. 

Подойдет распределённая аналитическая СУБД на основе Hadoop/Spark/ClickHous.Spark SQL

Модель распределённых вычислений выберу Apache Spark.
